"use strict";
function isAtomProcess() {
    return !!global.atom;
}
exports.isAtomProcess = isAtomProcess;
function wrapBeautifier(pkg, Beautifier, config) {
    return isAtomProcess() ?
        makeAtomBeautifier(pkg, Beautifier, config) :
        makeNodeBeautifier(Beautifier);
}
exports.wrapBeautifier = wrapBeautifier;
function makeAtomBeautifier(pkg, Beautifier, config) {
    return {
        config,
        activate: () => {
            const atomPackageDeps = require("atom-package-deps");
            atomPackageDeps.install(pkg.name)
                .then(function () {
                console.log("All dependencies installed, good to go");
            });
        },
        deactivate: () => { },
        provideBeautifier: () => {
            return Beautifier;
        }
    };
}
exports.makeAtomBeautifier = makeAtomBeautifier;
function makeNodeBeautifier(Beautifier) {
    return Beautifier;
}
exports.makeNodeBeautifier = makeNodeBeautifier;
//# sourceMappingURL=beautifier.js.map